diff --git a/.cproject b/.cproject
index 2b9c691..38c666f 100644
--- a/.cproject
+++ b/.cproject
@@ -20,7 +20,7 @@
 				</extensions>
 			</storageModule>
 			<storageModule moduleId="cdtBuildSystem" version="4.0.0">
-				<configuration artifactName="${ProjName}" buildArtefactType="org.eclipse.cdt.build.core.buildArtefactType.exe" buildProperties="org.eclipse.cdt.build.core.buildArtefactType=org.eclipse.cdt.build.core.buildArtefactType.exe,org.eclipse.cdt.build.core.buildType=org.eclipse.cdt.build.core.buildType.debug" cleanCommand="rm -rf" description="" id="cdt.managedbuild.config.gnu.exe.debug.473797402" name="Debug" parent="cdt.managedbuild.config.gnu.exe.debug">
+				<configuration artifactExtension="so" artifactName="${ProjName}" buildArtefactType="org.eclipse.cdt.build.core.buildArtefactType.sharedLib" buildProperties="org.eclipse.cdt.build.core.buildArtefactType=org.eclipse.cdt.build.core.buildArtefactType.sharedLib,org.eclipse.cdt.build.core.buildType=org.eclipse.cdt.build.core.buildType.debug" cleanCommand="rm -rf" description="" id="cdt.managedbuild.config.gnu.exe.debug.473797402" name="Debug" parent="cdt.managedbuild.config.gnu.exe.debug">
 					<folderInfo id="cdt.managedbuild.config.gnu.exe.debug.473797402." name="/" resourcePath="">
 						<toolChain id="cdt.managedbuild.toolchain.gnu.exe.debug.1938565316" name="Linux GCC" superClass="cdt.managedbuild.toolchain.gnu.exe.debug">
 							<targetPlatform id="cdt.managedbuild.target.gnu.platform.exe.debug.2074061676" name="Debug Platform" superClass="cdt.managedbuild.target.gnu.platform.exe.debug"/>
@@ -31,24 +31,21 @@
 								<option id="gnu.cpp.compiler.exe.debug.option.debugging.level.68237840" name="Debug Level" superClass="gnu.cpp.compiler.exe.debug.option.debugging.level" value="gnu.cpp.compiler.debugging.level.max" valueType="enumerated"/>
 							</tool>
 							<tool id="cdt.managedbuild.tool.gnu.c.compiler.exe.debug.782624424" name="GCC C Compiler" superClass="cdt.managedbuild.tool.gnu.c.compiler.exe.debug">
-								<option defaultValue="gnu.c.optimization.level.none" id="gnu.c.compiler.exe.debug.option.optimization.level.307616376" name="Optimization Level" superClass="gnu.c.compiler.exe.debug.option.optimization.level" value="gnu.c.optimization.level.none" valueType="enumerated"/>
-								<option id="gnu.c.compiler.exe.debug.option.debugging.level.347201407" name="Debug Level" superClass="gnu.c.compiler.exe.debug.option.debugging.level" value="gnu.c.debugging.level.max" valueType="enumerated"/>
+								<option defaultValue="gnu.c.optimization.level.none" id="gnu.c.compiler.exe.debug.option.optimization.level.307616376" name="Optimization Level" superClass="gnu.c.compiler.exe.debug.option.optimization.level" value="gnu.c.optimization.level.most" valueType="enumerated"/>
+								<option id="gnu.c.compiler.exe.debug.option.debugging.level.347201407" name="Debug Level" superClass="gnu.c.compiler.exe.debug.option.debugging.level" value="gnu.c.debugging.level.none" valueType="enumerated"/>
 								<option id="gnu.c.compiler.option.include.paths.650911840" name="Include paths (-I)" superClass="gnu.c.compiler.option.include.paths" valueType="includePath">
 									<listOptionValue builtIn="false" value="/lib/modules/3.13.0-74-generic/build/include"/>
 								</option>
 								<option id="gnu.c.compiler.option.dialect.std.581833556" name="Language standard" superClass="gnu.c.compiler.option.dialect.std" value="gnu.c.compiler.dialect.default" valueType="enumerated"/>
 								<option id="gnu.c.compiler.option.misc.other.1327202028" name="Other flags" superClass="gnu.c.compiler.option.misc.other" value="-c -fmessage-length=0 " valueType="string"/>
 								<option id="gnu.c.compiler.option.misc.pic.20542234" name="Position Independent Code (-fPIC)" superClass="gnu.c.compiler.option.misc.pic" value="true" valueType="boolean"/>
-								<option id="gnu.c.compiler.option.preprocessor.def.symbols.1921709188" name="Defined symbols (-D)" superClass="gnu.c.compiler.option.preprocessor.def.symbols" valueType="definedSymbols">
-									<listOptionValue builtIn="false" value="LOGGING_LEVEL=LOG_LEVEL_DEBUG"/>
-								</option>
 								<inputType id="cdt.managedbuild.tool.gnu.c.compiler.input.1124646222" superClass="cdt.managedbuild.tool.gnu.c.compiler.input"/>
 							</tool>
 							<tool id="cdt.managedbuild.tool.gnu.c.linker.exe.debug.385458943" name="GCC C Linker" superClass="cdt.managedbuild.tool.gnu.c.linker.exe.debug">
 								<option id="gnu.c.link.option.libs.1396472687" name="Libraries (-l)" superClass="gnu.c.link.option.libs" valueType="libs">
 									<listOptionValue builtIn="false" value="pthread"/>
 								</option>
-								<option defaultValue="true" id="gnu.c.link.option.shared.500172537" name="Shared (-shared)" superClass="gnu.c.link.option.shared" value="false" valueType="boolean"/>
+								<option defaultValue="true" id="gnu.c.link.option.shared.500172537" name="Shared (-shared)" superClass="gnu.c.link.option.shared" value="true" valueType="boolean"/>
 								<option id="gnu.c.link.option.ldflags.1545235747" name="Linker flags" superClass="gnu.c.link.option.ldflags" value="" valueType="string"/>
 								<inputType id="cdt.managedbuild.tool.gnu.c.linker.input.613888402" superClass="cdt.managedbuild.tool.gnu.c.linker.input">
 									<additionalInput kind="additionalinputdependency" paths="$(USER_OBJS)"/>
@@ -75,13 +72,7 @@
 		</cconfiguration>
 		<cconfiguration id="cdt.managedbuild.config.gnu.exe.release.541713126">
 			<storageModule buildSystemId="org.eclipse.cdt.managedbuilder.core.configurationDataProvider" id="cdt.managedbuild.config.gnu.exe.release.541713126" moduleId="org.eclipse.cdt.core.settings" name="Release">
-				<externalSettings>
-					<externalSetting>
-						<entry flags="VALUE_WORKSPACE_PATH" kind="includePath" name="/wfmalloc"/>
-						<entry flags="VALUE_WORKSPACE_PATH" kind="libraryPath" name="/wfmalloc/Release"/>
-						<entry flags="RESOLVED" kind="libraryFile" name="wfmalloc" srcPrefixMapping="" srcRootPath=""/>
-					</externalSetting>
-				</externalSettings>
+				<externalSettings/>
 				<extensions>
 					<extension id="org.eclipse.cdt.core.ELF" point="org.eclipse.cdt.core.BinaryParser"/>
 					<extension id="org.eclipse.cdt.core.GmakeErrorParser" point="org.eclipse.cdt.core.ErrorParser"/>
@@ -92,7 +83,7 @@
 				</extensions>
 			</storageModule>
 			<storageModule moduleId="cdtBuildSystem" version="4.0.0">
-				<configuration artifactExtension="so" artifactName="${ProjName}" buildArtefactType="org.eclipse.cdt.build.core.buildArtefactType.sharedLib" buildProperties="org.eclipse.cdt.build.core.buildArtefactType=org.eclipse.cdt.build.core.buildArtefactType.sharedLib,org.eclipse.cdt.build.core.buildType=org.eclipse.cdt.build.core.buildType.release" cleanCommand="rm -rf" description="" id="cdt.managedbuild.config.gnu.exe.release.541713126" name="Release" parent="cdt.managedbuild.config.gnu.exe.release">
+				<configuration artifactName="${ProjName}" buildArtefactType="org.eclipse.cdt.build.core.buildArtefactType.exe" buildProperties="org.eclipse.cdt.build.core.buildArtefactType=org.eclipse.cdt.build.core.buildArtefactType.exe,org.eclipse.cdt.build.core.buildType=org.eclipse.cdt.build.core.buildType.release" cleanCommand="rm -rf" description="" id="cdt.managedbuild.config.gnu.exe.release.541713126" name="Release" parent="cdt.managedbuild.config.gnu.exe.release">
 					<folderInfo id="cdt.managedbuild.config.gnu.exe.release.541713126." name="/" resourcePath="">
 						<toolChain id="cdt.managedbuild.toolchain.gnu.exe.release.498141450" name="Linux GCC" superClass="cdt.managedbuild.toolchain.gnu.exe.release">
 							<targetPlatform id="cdt.managedbuild.target.gnu.platform.exe.release.208041706" name="Debug Platform" superClass="cdt.managedbuild.target.gnu.platform.exe.release"/>
@@ -103,31 +94,20 @@
 								<option id="gnu.cpp.compiler.exe.release.option.debugging.level.545708451" name="Debug Level" superClass="gnu.cpp.compiler.exe.release.option.debugging.level" value="gnu.cpp.compiler.debugging.level.none" valueType="enumerated"/>
 							</tool>
 							<tool id="cdt.managedbuild.tool.gnu.c.compiler.exe.release.724432219" name="GCC C Compiler" superClass="cdt.managedbuild.tool.gnu.c.compiler.exe.release">
-								<option defaultValue="gnu.c.optimization.level.most" id="gnu.c.compiler.exe.release.option.optimization.level.1076769324" name="Optimization Level" superClass="gnu.c.compiler.exe.release.option.optimization.level" value="gnu.c.optimization.level.most" valueType="enumerated"/>
+								<option defaultValue="gnu.c.optimization.level.most" id="gnu.c.compiler.exe.release.option.optimization.level.1076769324" name="Optimization Level" superClass="gnu.c.compiler.exe.release.option.optimization.level" valueType="enumerated"/>
 								<option id="gnu.c.compiler.exe.release.option.debugging.level.5194439" name="Debug Level" superClass="gnu.c.compiler.exe.release.option.debugging.level" value="gnu.c.debugging.level.none" valueType="enumerated"/>
 								<option id="gnu.c.compiler.option.include.paths.1535894642" name="Include paths (-I)" superClass="gnu.c.compiler.option.include.paths" valueType="includePath">
 									<listOptionValue builtIn="false" value="/lib/modules/3.13.0-74-generic/build/include"/>
 								</option>
-								<option id="gnu.c.compiler.option.misc.pic.550401793" name="Position Independent Code (-fPIC)" superClass="gnu.c.compiler.option.misc.pic" value="true" valueType="boolean"/>
-								<option id="gnu.c.compiler.option.preprocessor.def.symbols.893721485" name="Defined symbols (-D)" superClass="gnu.c.compiler.option.preprocessor.def.symbols" valueType="definedSymbols">
-									<listOptionValue builtIn="false" value="LOGGING_LEVEL=LOG_LEVEL_NONE"/>
-								</option>
-								<option id="gnu.c.compiler.option.debugging.other.2053709230" name="Other debugging flags" superClass="gnu.c.compiler.option.debugging.other" value=" -DNDEBUG" valueType="string"/>
 								<inputType id="cdt.managedbuild.tool.gnu.c.compiler.input.990976621" superClass="cdt.managedbuild.tool.gnu.c.compiler.input"/>
 							</tool>
 							<tool id="cdt.managedbuild.tool.gnu.c.linker.exe.release.280758836" name="GCC C Linker" superClass="cdt.managedbuild.tool.gnu.c.linker.exe.release">
-								<option id="gnu.c.link.option.libs.1688292222" name="Libraries (-l)" superClass="gnu.c.link.option.libs" valueType="libs">
-									<listOptionValue builtIn="false" value="pthread"/>
-								</option>
-								<option defaultValue="true" id="gnu.c.link.option.shared.1516622343" name="Shared (-shared)" superClass="gnu.c.link.option.shared" valueType="boolean"/>
 								<inputType id="cdt.managedbuild.tool.gnu.c.linker.input.1362477143" superClass="cdt.managedbuild.tool.gnu.c.linker.input">
 									<additionalInput kind="additionalinputdependency" paths="$(USER_OBJS)"/>
 									<additionalInput kind="additionalinput" paths="$(LIBS)"/>
 								</inputType>
 							</tool>
-							<tool id="cdt.managedbuild.tool.gnu.cpp.linker.exe.release.782976001" name="GCC C++ Linker" superClass="cdt.managedbuild.tool.gnu.cpp.linker.exe.release">
-								<option defaultValue="true" id="gnu.cpp.link.option.shared.1903110563" name="Shared (-shared)" superClass="gnu.cpp.link.option.shared" valueType="boolean"/>
-							</tool>
+							<tool id="cdt.managedbuild.tool.gnu.cpp.linker.exe.release.782976001" name="GCC C++ Linker" superClass="cdt.managedbuild.tool.gnu.cpp.linker.exe.release"/>
 							<tool id="cdt.managedbuild.tool.gnu.assembler.exe.release.2027985893" name="GCC Assembler" superClass="cdt.managedbuild.tool.gnu.assembler.exe.release">
 								<inputType id="cdt.managedbuild.tool.gnu.assembler.input.702180588" superClass="cdt.managedbuild.tool.gnu.assembler.input"/>
 							</tool>
@@ -141,79 +121,6 @@
 			</storageModule>
 			<storageModule moduleId="org.eclipse.cdt.core.externalSettings"/>
 		</cconfiguration>
-		<cconfiguration id="cdt.managedbuild.config.gnu.exe.debug.473797402.1183793092">
-			<storageModule buildSystemId="org.eclipse.cdt.managedbuilder.core.configurationDataProvider" id="cdt.managedbuild.config.gnu.exe.debug.473797402.1183793092" moduleId="org.eclipse.cdt.core.settings" name="exe">
-				<externalSettings>
-					<externalSetting>
-						<entry flags="VALUE_WORKSPACE_PATH" kind="includePath" name="/wfmalloc"/>
-						<entry flags="VALUE_WORKSPACE_PATH" kind="libraryPath" name="/wfmalloc/Debug"/>
-						<entry flags="RESOLVED" kind="libraryFile" name="wfmalloc" srcPrefixMapping="" srcRootPath=""/>
-					</externalSetting>
-				</externalSettings>
-				<extensions>
-					<extension id="org.eclipse.cdt.core.ELF" point="org.eclipse.cdt.core.BinaryParser"/>
-					<extension id="org.eclipse.cdt.core.GmakeErrorParser" point="org.eclipse.cdt.core.ErrorParser"/>
-					<extension id="org.eclipse.cdt.core.CWDLocator" point="org.eclipse.cdt.core.ErrorParser"/>
-					<extension id="org.eclipse.cdt.core.GCCErrorParser" point="org.eclipse.cdt.core.ErrorParser"/>
-					<extension id="org.eclipse.cdt.core.GASErrorParser" point="org.eclipse.cdt.core.ErrorParser"/>
-					<extension id="org.eclipse.cdt.core.GLDErrorParser" point="org.eclipse.cdt.core.ErrorParser"/>
-				</extensions>
-			</storageModule>
-			<storageModule moduleId="cdtBuildSystem" version="4.0.0">
-				<configuration artifactName="${ProjName}" buildArtefactType="org.eclipse.cdt.build.core.buildArtefactType.exe" buildProperties="org.eclipse.cdt.build.core.buildArtefactType=org.eclipse.cdt.build.core.buildArtefactType.exe,org.eclipse.cdt.build.core.buildType=org.eclipse.cdt.build.core.buildType.debug" cleanCommand="rm -rf" description="Executable" id="cdt.managedbuild.config.gnu.exe.debug.473797402.1183793092" name="exe" parent="cdt.managedbuild.config.gnu.exe.debug">
-					<folderInfo id="cdt.managedbuild.config.gnu.exe.debug.473797402.1183793092." name="/" resourcePath="">
-						<toolChain id="cdt.managedbuild.toolchain.gnu.exe.debug.191413946" name="Linux GCC" superClass="cdt.managedbuild.toolchain.gnu.exe.debug">
-							<targetPlatform id="cdt.managedbuild.target.gnu.platform.exe.debug.1151498134" name="Debug Platform" superClass="cdt.managedbuild.target.gnu.platform.exe.debug"/>
-							<builder buildPath="${workspace_loc:/wfmalloc}/Debug" id="cdt.managedbuild.target.gnu.builder.exe.debug.673654299" keepEnvironmentInBuildfile="false" managedBuildOn="true" name="Gnu Make Builder" superClass="cdt.managedbuild.target.gnu.builder.exe.debug"/>
-							<tool id="cdt.managedbuild.tool.gnu.archiver.base.835587830" name="GCC Archiver" superClass="cdt.managedbuild.tool.gnu.archiver.base"/>
-							<tool id="cdt.managedbuild.tool.gnu.cpp.compiler.exe.debug.1303986705" name="GCC C++ Compiler" superClass="cdt.managedbuild.tool.gnu.cpp.compiler.exe.debug">
-								<option id="gnu.cpp.compiler.exe.debug.option.optimization.level.1581965890" name="Optimization Level" superClass="gnu.cpp.compiler.exe.debug.option.optimization.level" value="gnu.cpp.compiler.optimization.level.none" valueType="enumerated"/>
-								<option id="gnu.cpp.compiler.exe.debug.option.debugging.level.1124585084" name="Debug Level" superClass="gnu.cpp.compiler.exe.debug.option.debugging.level" value="gnu.cpp.compiler.debugging.level.max" valueType="enumerated"/>
-							</tool>
-							<tool id="cdt.managedbuild.tool.gnu.c.compiler.exe.debug.1490316098" name="GCC C Compiler" superClass="cdt.managedbuild.tool.gnu.c.compiler.exe.debug">
-								<option defaultValue="gnu.c.optimization.level.none" id="gnu.c.compiler.exe.debug.option.optimization.level.1538565261" name="Optimization Level" superClass="gnu.c.compiler.exe.debug.option.optimization.level" value="gnu.c.optimization.level.none" valueType="enumerated"/>
-								<option id="gnu.c.compiler.exe.debug.option.debugging.level.1028836328" name="Debug Level" superClass="gnu.c.compiler.exe.debug.option.debugging.level" value="gnu.c.debugging.level.max" valueType="enumerated"/>
-								<option id="gnu.c.compiler.option.include.paths.552664142" name="Include paths (-I)" superClass="gnu.c.compiler.option.include.paths" valueType="includePath">
-									<listOptionValue builtIn="false" value="/lib/modules/3.13.0-74-generic/build/include"/>
-								</option>
-								<option id="gnu.c.compiler.option.dialect.std.197937454" name="Language standard" superClass="gnu.c.compiler.option.dialect.std" value="gnu.c.compiler.dialect.default" valueType="enumerated"/>
-								<option id="gnu.c.compiler.option.misc.other.175957207" name="Other flags" superClass="gnu.c.compiler.option.misc.other" value="-c -fmessage-length=0 " valueType="string"/>
-								<option id="gnu.c.compiler.option.misc.pic.927551981" name="Position Independent Code (-fPIC)" superClass="gnu.c.compiler.option.misc.pic" value="true" valueType="boolean"/>
-								<option id="gnu.c.compiler.option.preprocessor.def.symbols.234726750" name="Defined symbols (-D)" superClass="gnu.c.compiler.option.preprocessor.def.symbols" valueType="definedSymbols">
-									<listOptionValue builtIn="false" value="LOGGING_LEVEL=LOG_LEVEL_NONE"/>
-								</option>
-								<option id="gnu.c.compiler.option.debugging.other.897101466" name="Other debugging flags" superClass="gnu.c.compiler.option.debugging.other" value=" -DNDEBUG" valueType="string"/>
-								<inputType id="cdt.managedbuild.tool.gnu.c.compiler.input.1305942119" superClass="cdt.managedbuild.tool.gnu.c.compiler.input"/>
-							</tool>
-							<tool id="cdt.managedbuild.tool.gnu.c.linker.exe.debug.471954238" name="GCC C Linker" superClass="cdt.managedbuild.tool.gnu.c.linker.exe.debug">
-								<option id="gnu.c.link.option.libs.241424983" name="Libraries (-l)" superClass="gnu.c.link.option.libs" valueType="libs">
-									<listOptionValue builtIn="false" value="pthread"/>
-								</option>
-								<option defaultValue="true" id="gnu.c.link.option.shared.1751143069" name="Shared (-shared)" superClass="gnu.c.link.option.shared" value="false" valueType="boolean"/>
-								<option id="gnu.c.link.option.ldflags.1478385140" name="Linker flags" superClass="gnu.c.link.option.ldflags" value="" valueType="string"/>
-								<inputType id="cdt.managedbuild.tool.gnu.c.linker.input.1420948302" superClass="cdt.managedbuild.tool.gnu.c.linker.input">
-									<additionalInput kind="additionalinputdependency" paths="$(USER_OBJS)"/>
-									<additionalInput kind="additionalinput" paths="$(LIBS)"/>
-								</inputType>
-								<outputType id="cdt.managedbuild.tool.gnu.c.linker.output.so.1701466411" outputPrefix="lib" superClass="cdt.managedbuild.tool.gnu.c.linker.output.so"/>
-								<outputType id="cdt.managedbuild.tool.gnu.c.linker.output.1865245379" outputPrefix="" superClass="cdt.managedbuild.tool.gnu.c.linker.output"/>
-							</tool>
-							<tool id="cdt.managedbuild.tool.gnu.cpp.linker.exe.debug.1108853053" name="GCC C++ Linker" superClass="cdt.managedbuild.tool.gnu.cpp.linker.exe.debug">
-								<option defaultValue="true" id="gnu.cpp.link.option.shared.597293596" name="Shared (-shared)" superClass="gnu.cpp.link.option.shared" valueType="boolean"/>
-							</tool>
-							<tool id="cdt.managedbuild.tool.gnu.assembler.exe.debug.278303498" name="GCC Assembler" superClass="cdt.managedbuild.tool.gnu.assembler.exe.debug">
-								<inputType id="cdt.managedbuild.tool.gnu.assembler.input.403487637" superClass="cdt.managedbuild.tool.gnu.assembler.input"/>
-							</tool>
-						</toolChain>
-					</folderInfo>
-					<sourceEntries>
-						<entry excluding="src" flags="VALUE_WORKSPACE_PATH|RESOLVED" kind="sourcePath" name=""/>
-						<entry flags="VALUE_WORKSPACE_PATH|RESOLVED" kind="sourcePath" name="src"/>
-					</sourceEntries>
-				</configuration>
-			</storageModule>
-			<storageModule moduleId="org.eclipse.cdt.core.externalSettings"/>
-		</cconfiguration>
 	</storageModule>
 	<storageModule moduleId="cdtBuildSystem" version="4.0.0">
 		<project id="wfmalloc.cdt.managedbuild.target.gnu.exe.1426581190" name="Executable" projectType="cdt.managedbuild.target.gnu.exe"/>
@@ -240,6 +147,7 @@
 		<buildTargets>
 			<target name="clean" path="" targetID="org.eclipse.cdt.build.MakeTargetBuilder">
 				<buildCommand>make</buildCommand>
+				<buildArguments/>
 				<buildTarget>clean</buildTarget>
 				<stopOnError>true</stopOnError>
 				<useDefaultCommand>true</useDefaultCommand>
@@ -247,15 +155,8 @@
 			</target>
 			<target name="all" path="" targetID="org.eclipse.cdt.build.MakeTargetBuilder">
 				<buildCommand>make</buildCommand>
-				<buildTarget>all</buildTarget>
-				<stopOnError>true</stopOnError>
-				<useDefaultCommand>true</useDefaultCommand>
-				<runAllBuilders>true</runAllBuilders>
-			</target>
-			<target name="exe" path="" targetID="org.eclipse.cdt.build.MakeTargetBuilder">
-				<buildCommand>make</buildCommand>
 				<buildArguments/>
-				<buildTarget>exe</buildTarget>
+				<buildTarget>all</buildTarget>
 				<stopOnError>true</stopOnError>
 				<useDefaultCommand>true</useDefaultCommand>
 				<runAllBuilders>true</runAllBuilders>
diff --git a/.gitignore b/.gitignore
index d878949..94ee0f9 100644
--- a/.gitignore
+++ b/.gitignore
@@ -32,5 +32,3 @@
 *.dSYM/
 #/Debug/
 /Debug/
-/exe/
-/Release/
diff --git a/Debug/makefile b/Debug/makefile
index df22e63..2cdd153 100644
--- a/Debug/makefile
+++ b/Debug/makefile
@@ -23,20 +23,28 @@ endif
 # Add inputs and outputs from these tool invocations to the build variables 
 
 # All Target
-all: wfmalloc
+all: libwfmalloc.so wfmalloctest
 
 # Tool invocations
-wfmalloc: $(OBJS) $(USER_OBJS)
+libwfmalloc.so: $(OBJS) $(USER_OBJS)
 	@echo 'Building target: $@'
 	@echo 'Invoking: GCC C Linker'
-	gcc  -o "wfmalloc" $(OBJS) $(USER_OBJS) $(LIBS)
+	gcc -shared -o "libwfmalloc.so" $(OBJS) $(USER_OBJS) $(LIBS)
+	@echo 'Finished building target: $@'
+	@echo ' '
+
+
+wfmalloctest: $(OBJS) $(USER_OBJS)
+	@echo 'Building target: $@'
+	@echo 'Invoking: GCC C Linker'
+	gcc -o "wfmalloctest" $(OBJS) $(USER_OBJS) $(LIBS)
 	@echo 'Finished building target: $@'
 	@echo ' '
 
 
 # Other Targets
 clean:
-	-$(RM) $(EXECUTABLES)$(OBJS)$(C_DEPS) wfmalloc
+	-$(RM) $(LIBRARIES)$(OBJS)$(C_DEPS) libwfmalloc.so wfmalloctest
 	-@echo ' '
 
 .PHONY: all clean dependents
diff --git a/Debug/sources.mk b/Debug/sources.mk
index a1c58f7..d2bc42f 100644
--- a/Debug/sources.mk
+++ b/Debug/sources.mk
@@ -7,7 +7,7 @@ ASM_SRCS :=
 C_SRCS := 
 O_SRCS := 
 S_UPPER_SRCS := 
-EXECUTABLES := 
+LIBRARIES := 
 OBJS := 
 C_DEPS := 
 
diff --git a/Debug/src/subdir.mk b/Debug/src/subdir.mk
index 29fa602..aa5a987 100644
--- a/Debug/src/subdir.mk
+++ b/Debug/src/subdir.mk
@@ -32,13 +32,13 @@ C_DEPS += \
 
 CFLAGS = -O3 -DNDEBUG
 
-CFLAGS_DBG = -g3 -O1
+CFLAGS_DBG = -g -O1
 
 # Each subdirectory must supply rules for building sources it contributes
 src/%.o: ../src/%.c
 	@echo 'Building file: $<'
 	@echo 'Invoking: GCC C Compiler'
-	gcc -DLOGGING_LEVEL=LOG_LEVEL_DEBUG -I/lib/modules/3.13.0-74-generic/build/include -O0 -g3 -Wall -c -fmessage-length=0 -fPIC -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@)" -o "$@" "$<"
+	gcc -I/lib/modules/3.13.0-74-generic/build/include $(CFLAGS_DBG) -Wall -c -fmessage-length=0 -fPIC -MMD -MP -MF"$(@:%.o=%.d)" -MT"$(@)" -o "$@" "$<"
 	@echo 'Finished building: $<'
 	@echo ' '
 
diff --git a/src/includes/local_pool.h b/src/includes/local_pool.h
index a07966f..0a94c16 100644
--- a/src/includes/local_pool.h
+++ b/src/includes/local_pool.h
@@ -19,7 +19,7 @@ typedef struct local_thread_data {
 	list_t bins[MAX_BINS][MAX_MLFQ]; // Every bin has a multi level feedback queue structure.
 	uint32_t count_pages_in_queue[MAX_BINS][MAX_MLFQ];
 	uint32_t counter_scan[MAX_BINS];
-	page_t* page_cache[MAX_BINS];
+	page_t* page_cache;
 
 #ifdef LOG_LEVEL_STATS
 	long int count_request_shared_pool;
diff --git a/src/local_pool.c b/src/local_pool.c
index ebf00c0..e418b22 100644
--- a/src/local_pool.c
+++ b/src/local_pool.c
@@ -48,9 +48,9 @@ local_pool_t* create_local_pool(int count_threads) {
 			}
 
 			block_size *= 2;
-			thread_data->page_cache[bin] = NULL;
 		}
 
+		thread_data->page_cache = NULL;
 
 		#ifdef LOG_LEVEL_STATS
 			thread_data->count_request_shared_pool = 0;
@@ -137,7 +137,7 @@ void* malloc_block_from_pool(local_pool_t *pool, shared_pool_t *shared_pool, int
 
 	int mlfq = 0;
 	int count_pages = 0;
-	if (thread_data->page_cache[bin_idx] == NULL) {
+	if (thread_data->page_cache == NULL) {
 		for (mlfq = 0; mlfq < MAX_MLFQ && (ptr_page_node == NULL); ++mlfq) {
 			tmp = (thread_data->bins[bin_idx][mlfq]).next;
 			if (likely(thread_data->count_pages_in_queue[bin_idx][mlfq] > 0)) {
@@ -152,7 +152,7 @@ void* malloc_block_from_pool(local_pool_t *pool, shared_pool_t *shared_pool, int
 					thread_data->count_pages_in_queue[bin_idx][mlfq] -= 1;
 
 					if (likely(tmp_page->header.min_free_blocks > 1)) {
-						thread_data->page_cache[bin_idx] = tmp_page;
+						thread_data->page_cache = tmp_page;
 					} else {
 						list_add(ptr_page_node, &to_be_updated);
 					}
@@ -180,9 +180,9 @@ void* malloc_block_from_pool(local_pool_t *pool, shared_pool_t *shared_pool, int
 			}
 		}
 	} else {
-		ptr_page_node = &(thread_data->page_cache[bin_idx]->header.node);
-		if (thread_data->page_cache[bin_idx]->header.min_free_blocks == 1) {
-			thread_data->page_cache[bin_idx] = NULL;
+		ptr_page_node = &(thread_data->page_cache->header.node);
+		if (thread_data->page_cache->header.min_free_blocks == 1) {
+			thread_data->page_cache = NULL;
 			list_add(ptr_page_node, &to_be_updated);
 		}
 	}
@@ -229,7 +229,7 @@ void* malloc_block_from_pool(local_pool_t *pool, shared_pool_t *shared_pool, int
 #endif
 		*(pool->last_shared_pool_idx + thread_id) = (*(pool->last_shared_pool_idx + thread_id) + 1) % pool->count_processors;
 		ptr_page_node = &(get_page_shared_pool(shared_pool, pool, thread_id, *(pool->last_shared_pool_idx + thread_id), block_size)->header.node);
-		thread_data->page_cache[bin_idx] = (page_t*) list_entry(ptr_page_node, page_header_t, node);
+		thread_data->page_cache = (page_t*) list_entry(ptr_page_node, page_header_t, node);
 
 #ifdef LOG_LEVEL_STATS
 		thread_data->count_request_shared_pool++;
@@ -286,7 +286,7 @@ void local_pool_stats(local_pool_t *pool) {
 	local_thread_data_t* thread_data = NULL;
 	int count_pages = 0;
 	list_t* tmp = NULL;
-	for (thread = 0; thread < pool->count_threads; ++thread) {
+	/*for (thread = 0; thread < pool->count_threads; ++thread) {
 		LOG_DEBUG("\tThread %d", thread);
 		LOG_DEBUG("\t\tLast used shared pool idx %d", *(pool->last_shared_pool_idx + thread));
 		thread_data = (pool->thread_data + thread);
@@ -304,7 +304,7 @@ void local_pool_stats(local_pool_t *pool) {
 				LOG_DEBUG("\t\t\tMLFQ %d has %d pages", mlfq, count_pages);
 			}
 		}
-	}
+	}*/
 
 
 #ifdef LOG_LEVEL_STATS
diff --git a/src/main.c b/src/main.c
index eeec7f9..b689f58 100644
--- a/src/main.c
+++ b/src/main.c
@@ -307,18 +307,12 @@ void test_bytes(char* string, int n_bytes) {
 void* test_worker_wfmalloc(void* data) {
     LOG_PROLOG();
 
-<<<<<<< HEAD
     const int COUNT_MALLOC_OPS = 100000;
-=======
-    const int COUNT_MALLOC_OPS = 100;
->>>>>>> 76d41a332119484fad11c6cce51096c241282707
     int thread_id = *((int*)data);
-    int* sizes = malloc(sizeof(int) * COUNT_MALLOC_OPS);
     int i = 0;
     char* mem[COUNT_MALLOC_OPS];
     int n_bytes[COUNT_MALLOC_OPS];
     for (i = 0; i < COUNT_MALLOC_OPS; ++i) {
-<<<<<<< HEAD
 	n_bytes[i] = rand() % 200;
     	//n_bytes[i] = 256;
 	mem[i] = wfmalloc(n_bytes[i], thread_id);
@@ -327,15 +321,6 @@ void* test_worker_wfmalloc(void* data) {
 	printf("%u %u\n", n_bytes[i], page_size);
 	assert(page_size >= n_bytes[i]);
 	write_to_bytes(mem[i], n_bytes[i]);
-=======
-    	sizes[i] = (rand() % 100)+1;
-    	mem[i] = wfmalloc(sizes[i], thread_id);
-
-    	/*mem_block_header_t *block_header = (mem_block_header_t*)((char*)mem[i] - sizeof(mem_block_header_t));
-    	page_t* page_ptr = (page_t*)((char*)block_header - block_header->byte_offset);
-
-    	LOG_INFO("Requested - %d, Returned = %d", sizes[i], page_ptr->header.block_size);*/
->>>>>>> 76d41a332119484fad11c6cce51096c241282707
     }
 
 	for (i = 0; i < COUNT_MALLOC_OPS; ++i) {
@@ -354,10 +339,7 @@ void test_wfmalloc() {
     const int COUNT_THREADS = 1;
 
     wfinit(COUNT_THREADS);
-<<<<<<< HEAD
     //wfstats();
-=======
->>>>>>> 76d41a332119484fad11c6cce51096c241282707
 
     pthread_t threads[COUNT_THREADS];
     int data[COUNT_THREADS];
@@ -372,13 +354,9 @@ void test_wfmalloc() {
     	pthread_join(threads[i], NULL);
     }
 
-<<<<<<< HEAD
     //wfstats();
 
     LOG_EPILOG();
-=======
-	LOG_EPILOG();
->>>>>>> 76d41a332119484fad11c6cce51096c241282707
 }
 
 
